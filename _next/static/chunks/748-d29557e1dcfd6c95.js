"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[748],{474:function(e,t,n){n.r(t),n.d(t,{default:function(){return f}});var r=n(85893),a=n(11163),s=n(67294),i=n(5152),o=n(9008),c=n(61878),l=n(76355),u=n(11382),d=n(16515);function f(){var e=(0,a.useRouter)().query,t=(0,d.bp)(),f=t.coordenades,m=t.locationError,p=t.setCoordenades,x=(0,s.useState)("tourism.attraction"),h=x[0],v=x[1],g=e.lat,j=e.lng;(0,s.useEffect)((function(){j&&p([g,j])}),[]);var b=(0,i.default)((function(){return Promise.all([n.e(269),n.e(550)]).then(n.bind(n,70550))}),{loadableGenerated:{webpack:function(){return[70550]},modules:["explore.jsx -> ../components/MapExplore.jsx"]},ssr:!1});return m?(0,r.jsx)("div",{className:"min-w-screen min-h-screen flex justify-center items-center ",children:(0,r.jsx)(l.ZP,{status:"warning",title:"Please grant the location permission"})}):f[0]?(0,r.jsxs)("div",{className:"bg-gray-100",children:[(0,r.jsx)(o.default,{children:(0,r.jsx)("title",{children:"Explore Places | Traveler App"})}),(0,r.jsx)(c.CategoriesComponent,{categories:h,setCategories:v,className:"top-0 bg-transparent z-50"}),(0,r.jsx)(b,{center:f,filter:h})]}):(0,r.jsx)("div",{className:"min-w-screen min-h-screen flex justify-center items-center ",children:(0,r.jsx)(u.Z,{})})}},61878:function(e,t,n){n.r(t),n.d(t,{default:function(){return w},Header:function(){return y},SearchComponent:function(){return N},CategoriesComponent:function(){return C},ResultsComponent:function(){return k},StarRating:function(){return E}});var r=n(35666),a=n.n(r),s=n(85893),i=n(11163),o=n(62816),c=n(76355),l=n(91730),u=n(48761),d=n(10808),f=n(71511),m=n(1803),p=n(9008),x=n(67294),h=n(29473),v=n(16515),g=n(46921);function j(e,t,n,r,a,s,i){try{var o=e[s](i),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){j(s,r,a,i,o,"next",e)}function o(e){j(s,r,a,i,o,"throw",e)}i(void 0)}))}}function w(){var e=(0,x.useState)("tourism.attraction"),t=e[0],n=e[1],r=(0,v.bp)(),i=r.coordenades,o=r.locationError,l=(0,x.useState)([]),u=l[0],d=l[1],f=(0,x.useState)(1),m=f[0],g=f[1];return(0,x.useEffect)((function(){function e(){return(e=b(a().mark((function e(){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,h.CO)({lat:i[0],lng:i[1],radius:1e3*m,filter:t});case 2:n=e.sent,d(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}i[0]&&function(){e.apply(this,arguments)}()}),[i,t,m]),(0,s.jsxs)("div",{className:"bg-gray-100",children:[(0,s.jsxs)(p.default,{children:[(0,s.jsx)("title",{children:"Traveler App | FeernandoOFF"}),(0,s.jsx)("meta",{name:"description",content:"If your gonna travel around the world or your city you absoloutley neet this Traveler's app to know where your going"})]}),(0,s.jsxs)("main",{className:" min-h-[100vh] w-11/12 mx-auto",children:[(0,s.jsx)(y,{}),(0,s.jsx)(N,{}),(0,s.jsx)("h5",{className:"subtitle",children:"Categories"}),(0,s.jsx)(C,{categories:t,setCategories:n}),o?(0,s.jsx)("div",{className:"min-w-screen min-h-screen flex justify-center items-center ",children:(0,s.jsx)(c.ZP,{status:"warning",title:"Please grant the location permission"})}):(0,s.jsx)(k,{places:u,km:m,setKM:g})]})]})}var y=function(){return(0,s.jsx)("header",{className:"py-6",children:(0,s.jsxs)("nav",{className:"flex justify-between mx-auto items-center",children:[(0,s.jsxs)("div",{className:"left flex justify-between items-center",children:[(0,s.jsx)(f.Z,{className:"flex items-center justify-center shadow-md cursor-pointer",style:{backgroundColor:"#ff8348"},icon:(0,s.jsx)(o.P1s,{})}),(0,s.jsx)("p",{className:"ml-4 font-semibold",children:"Hi, Jennifer!"})]}),(0,s.jsx)("div",{className:"right",children:(0,s.jsx)(m.E.div,{whileTap:{scale:1.14,backgroundColor:"#F12222",color:"#fff"},className:"p-3 flex items-center rounded-full bg-white text-red-400 shadow-md shadow-red-100 cursor-pointer",children:(0,s.jsx)(o.FeJ,{})})})]})})},N=function(){var e=(0,i.useRouter)(),t=(0,x.useState)([]),n=t[0],r=t[1];function c(){return(c=b(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(!t|(null===t||void 0===t?void 0:t.length)<3)){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,(0,h.bn)(t);case 4:n=e.sent,r(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return(0,s.jsxs)("div",{className:"mt-[3vh]",children:[(0,s.jsxs)("h5",{className:"font-bold text-3xl",children:["Where do",(0,s.jsx)("br",{})," you want to go?"]}),(0,s.jsxs)(m.E.div,{className:"relative my-[5vh] ",whileFocus:{backgroundColor:"red"},children:[(0,s.jsx)(l.Z,{options:null===n||void 0===n?void 0:n.map((function(e){return{value:null===e||void 0===e?void 0:e.formatted,option:{lat:null===e||void 0===e?void 0:e.lat,lng:e.lon}}})),onSelect:function(t,n){var r=n.option;e.push({pathname:"/explore",query:{lat:r.lat,lng:r.lng}})},placeholder:"Search a place",className:" mx-auto px-2 py-4 rounded-xl shadow-sm border-none outline-none bg-white text-gray-700 w-full font-semibold ",onChange:function(e){return function(e){return c.apply(this,arguments)}(e)}}),(0,s.jsx)(m.E.div,{whileHover:{transform:"rotateY(360deg)",transition:{duration:.6}},className:"absolute right-3 top-2 flex justify-center items-center p-3 rounded-full bg-white shadow-sm shadow-yellow-500 text-yellow-600 font-semibold",children:(0,s.jsx)(o.l62,{className:""})})]})]})},C=function(e){var t=e.categories,n=e.setCategories,r=e.className,a=void 0===r?"":r;return(0,s.jsxs)("div",{className:"categories_list flex justify-start flex-nowrap overflow-x-scroll ".concat(a),children:[(0,s.jsx)(S,{value:"tourism.attraction",name:"attractions",setCategories:n,categories:t}),(0,s.jsx)(S,{value:"accommodation.hotel",name:"hotels",setCategories:n,categories:t}),(0,s.jsx)(S,{value:"catering.restaurant",name:"restaurants",setCategories:n,categories:t})]})},k=function(e){var t=e.places,n=e.setKM,r=(0,g.r)(),a=r.favorites,i=r.handleFavorite,c=(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{children:"Search by KM"}),(0,s.jsx)(u.Z,{defaultValue:1,max:5,step:1,onChange:function(e){return n(e)}})]});return(0,s.jsxs)("div",{className:"mt-[5vh]",children:[(0,s.jsxs)("div",{className:"flex justify-between px-2 items-center",children:[(0,s.jsx)("h5",{className:"subtitle",children:"Locatios close to You"}),(0,s.jsx)("div",{className:"mr-4",children:(0,s.jsx)(d.Z,{content:c,title:"Rating",placement:"left",trigger:"click",children:(0,s.jsx)(o._iA,{className:"text-lg "})})})]}),(0,s.jsx)("div",{className:"topTrip_container flex flex-wrap w-full justify-between ",children:null===t||void 0===t?void 0:t.map((function(e,t){var n=e.properties;return(0,s.jsx)(_,{name:n.name,distance:n.distance,setFavorites:function(){return i(n)},isFavorite:null===a||void 0===a?void 0:a.find((function(e){return e.place_id===n.place_id}))},t)}))})]})};function S(e){var t=e.value,n=e.setCategories,r=e.categories,a=e.name;return(0,s.jsxs)(m.E.div,{onClick:function(){return n(t)},initial:{opacity:0},animate:{opacity:1},className:"\n    categories_item lg:min-w-[200px] min-w-[150px] min-h-[40px] p-3 rounded-xl bg-white flex items-center mx-4 my-4\n    ".concat(r==t&&"bg-gray-300 shadow-lg"),children:[(0,s.jsx)("div",{className:"image h-[35px] w-[35px] bg-gray-200 rounded-lg "}),(0,s.jsx)("p",{className:"font-medium lg:ml-4 lg:text-base ml-2 capitalize",children:a})]})}function _(e){var t=e.name,n=e.distance,r=e.setFavorites,a=e.isFavorite;return(0,s.jsxs)(m.E.div,{initial:{opacity:0},transition:{duration:.4,delay:.3},whileInView:{opacity:1},className:"topTrip_item bg-gray-50 rounded-lg p-2 w-[48%] lg:min-w-[300px] lg:max-w-[200px] my-8 shadow-md",children:[(0,s.jsxs)("div",{className:"topTrip_image min-w-full min-h-[140px] bg-gray-400 rounded-md relative shadow-lg",children:[(0,s.jsx)("p",{className:"right-2 top-2 p-1 inline-block rounded-md bg-white text-xs absolute bg-clip-padding text-gray-500 opacity-80",style:{backdropFilter:"blur(100px)",backgroundColor:"rgb(255 255 255 / 56%)"},children:"$120"}),(0,s.jsx)("img",{className:"max-w-[100%] rounded-md",src:"https://images.unsplash.com/photo-1557456170-0cf4f4d0d362?ixlib=rb-1.2.1&ixid=MnwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8&auto=format&fit=crop&w=1887&q=80",alt:"Background"})]}),(0,s.jsx)("div",{className:"topTrip_info py-3",children:(0,s.jsxs)("div",{className:"left relative mt-3",children:[(0,s.jsx)("h6",{className:"font-semibold text-sm pr-1 ",children:t}),(0,s.jsxs)("span",{className:"text-gray-400 font-normal text-xs",children:[n," m"]}),(0,s.jsx)(o.F8D,{onClick:r,className:"".concat(a?"bg-red-400 text-white":"bg-white text-red-400 "," absolute bottom-0 right-0 w-[30px] h-[30px] flex items-center justify-center  rounded-full text-xs shadow-md shadow-red-100")})]})})]})}function E(e){var t=e.setStars,n=e.stars,r=e.value,a=e.children;return(0,s.jsx)("p",{className:"my-2 text-gray-700 font-semibold ".concat(n==r&&"text-blue-400"),onClick:function(e){var n=e.target;return t(n.dataset.value)},"data-value":r,children:a||" Above ".concat(r," stars")})}},29473:function(e,t,n){n.d(t,{ph:function(){return l},CO:function(){return u},bn:function(){return d}});var r=n(35666),a=n.n(r),s=n(9669),i=n.n(s);n(474);function o(e,t,n,r,a,s,i){try{var o=e[s](i),c=o.value}catch(l){return void n(l)}o.done?t(c):Promise.resolve(c).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var s=e.apply(t,n);function i(e){o(s,r,a,i,c,"next",e)}function c(e){o(s,r,a,i,c,"throw",e)}i(void 0)}))}}var l=c(a().mark((function e(t,n,r,s){var o,c,l;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=void 0===r?"catering.restaurant":r,c=void 0===s?40:s,e.prev=1,e.next=4,i().get("https://api.geoapify.com/v2/places?categories=".concat(o,"&filter=rect:").concat(t.lng,",").concat(t.lat,",").concat(n.lng,",").concat(n.lat,"&limit=").concat(c,"&apiKey=").concat("1506fe4b3b2f47c5ba8f45810567c986"));case 4:return l=e.sent,e.next=7,l.data.features;case 7:return e.abrupt("return",e.sent);case 10:e.prev=10,e.t0=e.catch(1),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[1,10]])}))),u=c(a().mark((function e(t){var n,r,s,o,c,l,u,d,f;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.lat,r=t.lng,s=t.radius,o=void 0===s?1e3:s,c=t.filter,l=void 0===c?"tourism.attraction":c,u=t.limit,d=void 0===u?40:u,e.prev=1,e.next=4,i().get("https://api.geoapify.com/v2/places?categories=".concat(l,"&filter=circle:").concat(r,",").concat(n,",").concat(o,"&bias=proximity:").concat(r,",").concat(n,"&limit=").concat(d,"&apiKey=").concat("1506fe4b3b2f47c5ba8f45810567c986"));case 4:return f=e.sent,e.abrupt("return",f.data.features);case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])}))),d=c(a().mark((function e(t){var n,r;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,i().get("https://api.geoapify.com/v1/geocode/autocomplete?text=".concat(t,"&format=json&apiKey=").concat("1506fe4b3b2f47c5ba8f45810567c986"));case 3:return n=e.sent,r=n.data.results,e.abrupt("return",r);case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))},46921:function(e,t,n){n.d(t,{r:function(){return s}});var r=n(67294);function a(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function s(){var e=(0,r.useState)([]),t=e[0],n=e[1];return(0,r.useEffect)((function(){var e=localStorage.getItem("favorites");e&&n(JSON.parse(e))}),[]),(0,r.useEffect)((function(){t&&localStorage.setItem("favorites",JSON.stringify(t))}),[t]),{favorites:t,setFavorites:n,handleFavorite:function(e){t.find((function(t){return t.place_id===e.place_id}))?n(t.filter((function(t){return t.place_id!==e.place_id}))):n(a(t).concat([e]))}}}}}]);